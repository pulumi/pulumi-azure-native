// *** WARNING: this file was generated by pulumi. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.AzureNative.Security
{
    public static class GetAPICollectionByAzureApiManagementService
    {
        /// <summary>
        /// Gets an Azure API Management API if it has been onboarded to Microsoft Defender for APIs. If an Azure API Management API is onboarded to Microsoft Defender for APIs, the system will monitor the operations within the Azure API Management API for intrusive behaviors and provide alerts for attacks that have been detected.
        /// Azure REST API version: 2023-11-15.
        /// </summary>
        public static Task<GetAPICollectionByAzureApiManagementServiceResult> InvokeAsync(GetAPICollectionByAzureApiManagementServiceArgs args, InvokeOptions? options = null)
            => global::Pulumi.Deployment.Instance.InvokeAsync<GetAPICollectionByAzureApiManagementServiceResult>("azure-native:security:getAPICollectionByAzureApiManagementService", args ?? new GetAPICollectionByAzureApiManagementServiceArgs(), options.WithDefaults());

        /// <summary>
        /// Gets an Azure API Management API if it has been onboarded to Microsoft Defender for APIs. If an Azure API Management API is onboarded to Microsoft Defender for APIs, the system will monitor the operations within the Azure API Management API for intrusive behaviors and provide alerts for attacks that have been detected.
        /// Azure REST API version: 2023-11-15.
        /// </summary>
        public static Output<GetAPICollectionByAzureApiManagementServiceResult> Invoke(GetAPICollectionByAzureApiManagementServiceInvokeArgs args, InvokeOptions? options = null)
            => global::Pulumi.Deployment.Instance.Invoke<GetAPICollectionByAzureApiManagementServiceResult>("azure-native:security:getAPICollectionByAzureApiManagementService", args ?? new GetAPICollectionByAzureApiManagementServiceInvokeArgs(), options.WithDefaults());

        /// <summary>
        /// Gets an Azure API Management API if it has been onboarded to Microsoft Defender for APIs. If an Azure API Management API is onboarded to Microsoft Defender for APIs, the system will monitor the operations within the Azure API Management API for intrusive behaviors and provide alerts for attacks that have been detected.
        /// Azure REST API version: 2023-11-15.
        /// </summary>
        public static Output<GetAPICollectionByAzureApiManagementServiceResult> Invoke(GetAPICollectionByAzureApiManagementServiceInvokeArgs args, InvokeOutputOptions options)
            => global::Pulumi.Deployment.Instance.Invoke<GetAPICollectionByAzureApiManagementServiceResult>("azure-native:security:getAPICollectionByAzureApiManagementService", args ?? new GetAPICollectionByAzureApiManagementServiceInvokeArgs(), options.WithDefaults());
    }


    public sealed class GetAPICollectionByAzureApiManagementServiceArgs : global::Pulumi.InvokeArgs
    {
        /// <summary>
        /// API revision identifier. Must be unique in the API Management service instance. Non-current revision has ;rev=n as a suffix where n is the revision number.
        /// </summary>
        [Input("apiId", required: true)]
        public string ApiId { get; set; } = null!;

        /// <summary>
        /// The name of the resource group. The name is case insensitive.
        /// </summary>
        [Input("resourceGroupName", required: true)]
        public string ResourceGroupName { get; set; } = null!;

        /// <summary>
        /// The name of the API Management service.
        /// </summary>
        [Input("serviceName", required: true)]
        public string ServiceName { get; set; } = null!;

        public GetAPICollectionByAzureApiManagementServiceArgs()
        {
        }
        public static new GetAPICollectionByAzureApiManagementServiceArgs Empty => new GetAPICollectionByAzureApiManagementServiceArgs();
    }

    public sealed class GetAPICollectionByAzureApiManagementServiceInvokeArgs : global::Pulumi.InvokeArgs
    {
        /// <summary>
        /// API revision identifier. Must be unique in the API Management service instance. Non-current revision has ;rev=n as a suffix where n is the revision number.
        /// </summary>
        [Input("apiId", required: true)]
        public Input<string> ApiId { get; set; } = null!;

        /// <summary>
        /// The name of the resource group. The name is case insensitive.
        /// </summary>
        [Input("resourceGroupName", required: true)]
        public Input<string> ResourceGroupName { get; set; } = null!;

        /// <summary>
        /// The name of the API Management service.
        /// </summary>
        [Input("serviceName", required: true)]
        public Input<string> ServiceName { get; set; } = null!;

        public GetAPICollectionByAzureApiManagementServiceInvokeArgs()
        {
        }
        public static new GetAPICollectionByAzureApiManagementServiceInvokeArgs Empty => new GetAPICollectionByAzureApiManagementServiceInvokeArgs();
    }


    [OutputType]
    public sealed class GetAPICollectionByAzureApiManagementServiceResult
    {
        /// <summary>
        /// The base URI for this API collection. All endpoints of this API collection extend this base URI.
        /// </summary>
        public readonly string BaseUrl;
        /// <summary>
        /// The resource Id of the resource from where this API collection was discovered.
        /// </summary>
        public readonly string DiscoveredVia;
        /// <summary>
        /// The display name of the API collection.
        /// </summary>
        public readonly string DisplayName;
        /// <summary>
        /// Resource Id
        /// </summary>
        public readonly string Id;
        /// <summary>
        /// Resource name
        /// </summary>
        public readonly string Name;
        /// <summary>
        /// The number of API endpoints discovered in this API collection.
        /// </summary>
        public readonly double NumberOfApiEndpoints;
        /// <summary>
        /// The number of API endpoints in this API collection which are exposing sensitive data in their requests and/or responses.
        /// </summary>
        public readonly double NumberOfApiEndpointsWithSensitiveDataExposed;
        /// <summary>
        /// The number of API endpoints in this API collection for which API traffic from the internet was observed.
        /// </summary>
        public readonly double NumberOfExternalApiEndpoints;
        /// <summary>
        /// The number of API endpoints in this API collection that have not received any API traffic in the last 30 days.
        /// </summary>
        public readonly double NumberOfInactiveApiEndpoints;
        /// <summary>
        /// The number of API endpoints in this API collection that are unauthenticated.
        /// </summary>
        public readonly double NumberOfUnauthenticatedApiEndpoints;
        /// <summary>
        /// Gets the provisioning state of the API collection.
        /// </summary>
        public readonly string ProvisioningState;
        /// <summary>
        /// The highest priority sensitivity label from Microsoft Purview in this API collection.
        /// </summary>
        public readonly string SensitivityLabel;
        /// <summary>
        /// Resource type
        /// </summary>
        public readonly string Type;

        [OutputConstructor]
        private GetAPICollectionByAzureApiManagementServiceResult(
            string baseUrl,

            string discoveredVia,

            string displayName,

            string id,

            string name,

            double numberOfApiEndpoints,

            double numberOfApiEndpointsWithSensitiveDataExposed,

            double numberOfExternalApiEndpoints,

            double numberOfInactiveApiEndpoints,

            double numberOfUnauthenticatedApiEndpoints,

            string provisioningState,

            string sensitivityLabel,

            string type)
        {
            BaseUrl = baseUrl;
            DiscoveredVia = discoveredVia;
            DisplayName = displayName;
            Id = id;
            Name = name;
            NumberOfApiEndpoints = numberOfApiEndpoints;
            NumberOfApiEndpointsWithSensitiveDataExposed = numberOfApiEndpointsWithSensitiveDataExposed;
            NumberOfExternalApiEndpoints = numberOfExternalApiEndpoints;
            NumberOfInactiveApiEndpoints = numberOfInactiveApiEndpoints;
            NumberOfUnauthenticatedApiEndpoints = numberOfUnauthenticatedApiEndpoints;
            ProvisioningState = provisioningState;
            SensitivityLabel = sensitivityLabel;
            Type = type;
        }
    }
}
