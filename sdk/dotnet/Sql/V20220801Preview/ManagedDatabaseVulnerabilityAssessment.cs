// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.AzureNative.Sql.V20220801Preview
{
    /// <summary>
    /// A database vulnerability assessment.
    /// 
    /// ## Example Usage
    /// ### Create a database's vulnerability assessment with all parameters
    /// ```csharp
    /// using System.Collections.Generic;
    /// using Pulumi;
    /// using AzureNative = Pulumi.AzureNative;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var managedDatabaseVulnerabilityAssessment = new AzureNative.Sql.V20220801Preview.ManagedDatabaseVulnerabilityAssessment("managedDatabaseVulnerabilityAssessment", new()
    ///     {
    ///         DatabaseName = "testdb",
    ///         ManagedInstanceName = "vulnerabilityaseessmenttest-6440",
    ///         RecurringScans = new AzureNative.Sql.V20220801Preview.Inputs.VulnerabilityAssessmentRecurringScansPropertiesArgs
    ///         {
    ///             EmailSubscriptionAdmins = true,
    ///             Emails = new[]
    ///             {
    ///                 "email1@mail.com",
    ///                 "email2@mail.com",
    ///             },
    ///             IsEnabled = true,
    ///         },
    ///         ResourceGroupName = "vulnerabilityaseessmenttest-4799",
    ///         StorageContainerPath = "https://myStorage.blob.core.windows.net/vulnerability-assessment/",
    ///         StorageContainerSasKey = "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
    ///         VulnerabilityAssessmentName = "default",
    ///     });
    /// 
    /// });
    /// 
    /// 
    /// ```
    /// ### Create a database's vulnerability assessment with minimal parameters
    /// ```csharp
    /// using System.Collections.Generic;
    /// using Pulumi;
    /// using AzureNative = Pulumi.AzureNative;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var managedDatabaseVulnerabilityAssessment = new AzureNative.Sql.V20220801Preview.ManagedDatabaseVulnerabilityAssessment("managedDatabaseVulnerabilityAssessment", new()
    ///     {
    ///         DatabaseName = "testdb",
    ///         ManagedInstanceName = "vulnerabilityaseessmenttest-6440",
    ///         ResourceGroupName = "vulnerabilityaseessmenttest-4799",
    ///         StorageContainerPath = "https://myStorage.blob.core.windows.net/vulnerability-assessment/",
    ///         StorageContainerSasKey = "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
    ///         VulnerabilityAssessmentName = "default",
    ///     });
    /// 
    /// });
    /// 
    /// 
    /// ```
    /// 
    /// ## Import
    /// 
    /// An existing resource can be imported using its type token, name, and identifier, e.g.
    /// 
    /// ```sh
    /// $ pulumi import azure-native:sql/v20220801preview:ManagedDatabaseVulnerabilityAssessment default /subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/vulnerabilityaseessmenttest-4799/providers/Microsoft.Sql/managedInstances/vulnerabilityaseessmenttest-6440/databases/testdb/vulnerabilityAssessments/default 
    /// ```
    /// </summary>
    [AzureNativeResourceType("azure-native:sql/v20220801preview:ManagedDatabaseVulnerabilityAssessment")]
    public partial class ManagedDatabaseVulnerabilityAssessment : global::Pulumi.CustomResource
    {
        /// <summary>
        /// Resource name.
        /// </summary>
        [Output("name")]
        public Output<string> Name { get; private set; } = null!;

        /// <summary>
        /// The recurring scans settings
        /// </summary>
        [Output("recurringScans")]
        public Output<Outputs.VulnerabilityAssessmentRecurringScansPropertiesResponse?> RecurringScans { get; private set; } = null!;

        /// <summary>
        /// Resource type.
        /// </summary>
        [Output("type")]
        public Output<string> Type { get; private set; } = null!;


        /// <summary>
        /// Create a ManagedDatabaseVulnerabilityAssessment resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public ManagedDatabaseVulnerabilityAssessment(string name, ManagedDatabaseVulnerabilityAssessmentArgs args, CustomResourceOptions? options = null)
            : base("azure-native:sql/v20220801preview:ManagedDatabaseVulnerabilityAssessment", name, args ?? new ManagedDatabaseVulnerabilityAssessmentArgs(), MakeResourceOptions(options, ""))
        {
        }

        private ManagedDatabaseVulnerabilityAssessment(string name, Input<string> id, CustomResourceOptions? options = null)
            : base("azure-native:sql/v20220801preview:ManagedDatabaseVulnerabilityAssessment", name, null, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
                Aliases =
                {
                    new global::Pulumi.Alias { Type = "azure-native:sql:ManagedDatabaseVulnerabilityAssessment"},
                    new global::Pulumi.Alias { Type = "azure-native:sql/v20171001preview:ManagedDatabaseVulnerabilityAssessment"},
                    new global::Pulumi.Alias { Type = "azure-native:sql/v20200202preview:ManagedDatabaseVulnerabilityAssessment"},
                    new global::Pulumi.Alias { Type = "azure-native:sql/v20200801preview:ManagedDatabaseVulnerabilityAssessment"},
                    new global::Pulumi.Alias { Type = "azure-native:sql/v20201101preview:ManagedDatabaseVulnerabilityAssessment"},
                    new global::Pulumi.Alias { Type = "azure-native:sql/v20210201preview:ManagedDatabaseVulnerabilityAssessment"},
                    new global::Pulumi.Alias { Type = "azure-native:sql/v20210501preview:ManagedDatabaseVulnerabilityAssessment"},
                    new global::Pulumi.Alias { Type = "azure-native:sql/v20210801preview:ManagedDatabaseVulnerabilityAssessment"},
                    new global::Pulumi.Alias { Type = "azure-native:sql/v20211101:ManagedDatabaseVulnerabilityAssessment"},
                    new global::Pulumi.Alias { Type = "azure-native:sql/v20211101preview:ManagedDatabaseVulnerabilityAssessment"},
                    new global::Pulumi.Alias { Type = "azure-native:sql/v20220201preview:ManagedDatabaseVulnerabilityAssessment"},
                    new global::Pulumi.Alias { Type = "azure-native:sql/v20220501preview:ManagedDatabaseVulnerabilityAssessment"},
                },
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing ManagedDatabaseVulnerabilityAssessment resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static ManagedDatabaseVulnerabilityAssessment Get(string name, Input<string> id, CustomResourceOptions? options = null)
        {
            return new ManagedDatabaseVulnerabilityAssessment(name, id, options);
        }
    }

    public sealed class ManagedDatabaseVulnerabilityAssessmentArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// The name of the database for which the vulnerability assessment is defined.
        /// </summary>
        [Input("databaseName", required: true)]
        public Input<string> DatabaseName { get; set; } = null!;

        /// <summary>
        /// The name of the managed instance.
        /// </summary>
        [Input("managedInstanceName", required: true)]
        public Input<string> ManagedInstanceName { get; set; } = null!;

        /// <summary>
        /// The recurring scans settings
        /// </summary>
        [Input("recurringScans")]
        public Input<Inputs.VulnerabilityAssessmentRecurringScansPropertiesArgs>? RecurringScans { get; set; }

        /// <summary>
        /// The name of the resource group that contains the resource. You can obtain this value from the Azure Resource Manager API or the portal.
        /// </summary>
        [Input("resourceGroupName", required: true)]
        public Input<string> ResourceGroupName { get; set; } = null!;

        /// <summary>
        /// Specifies the identifier key of the storage account for vulnerability assessment scan results. If 'StorageContainerSasKey' isn't specified, storageAccountAccessKey is required. Applies only if the storage account is not behind a Vnet or a firewall
        /// </summary>
        [Input("storageAccountAccessKey")]
        public Input<string>? StorageAccountAccessKey { get; set; }

        /// <summary>
        /// A blob storage container path to hold the scan results (e.g. https://myStorage.blob.core.windows.net/VaScans/).  It is required if server level vulnerability assessment policy doesn't set
        /// </summary>
        [Input("storageContainerPath")]
        public Input<string>? StorageContainerPath { get; set; }

        /// <summary>
        /// A shared access signature (SAS Key) that has write access to the blob container specified in 'storageContainerPath' parameter. If 'storageAccountAccessKey' isn't specified, StorageContainerSasKey is required. Applies only if the storage account is not behind a Vnet or a firewall
        /// </summary>
        [Input("storageContainerSasKey")]
        public Input<string>? StorageContainerSasKey { get; set; }

        /// <summary>
        /// The name of the vulnerability assessment.
        /// </summary>
        [Input("vulnerabilityAssessmentName")]
        public Input<string>? VulnerabilityAssessmentName { get; set; }

        public ManagedDatabaseVulnerabilityAssessmentArgs()
        {
        }
        public static new ManagedDatabaseVulnerabilityAssessmentArgs Empty => new ManagedDatabaseVulnerabilityAssessmentArgs();
    }
}
