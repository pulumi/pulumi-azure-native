// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../../types/input";
import * as outputs from "../../types/output";
import * as enums from "../../types/enums";
import * as utilities from "../../utilities";

export * as v20180201preview from "./v20180201preview/input";
export * as v20190201preview from "./v20190201preview/input";
export * as v20190501preview from "./v20190501preview/input";
export * as v20200214 from "./v20200214/input";
export * as v20211001 from "./v20211001/input";
export * as v20220214 from "./v20220214/input";
/**
 * Uploads files to VMs (Linux, Windows). Corresponds to Packer file provisioner
 */
export interface ImageTemplateFileCustomizerArgs {
    /**
     * The absolute path to a file (with nested directory structures already created) where the file (from sourceUri) will be uploaded to in the VM
     */
    destination?: pulumi.Input<string>;
    /**
     * Friendly Name to provide context on what this customization step does
     */
    name?: pulumi.Input<string>;
    /**
     * SHA256 checksum of the file provided in the sourceUri field above
     */
    sha256Checksum?: pulumi.Input<string>;
    /**
     * The URI of the file to be uploaded for customizing the VM. It can be a github link, SAS URI for Azure Storage, etc
     */
    sourceUri?: pulumi.Input<string>;
    /**
     * The type of customization tool you want to use on the Image. For example, "Shell" can be shell customizer
     * Expected value is 'File'.
     */
    type: pulumi.Input<"File">;
}
/**
 * imageTemplateFileCustomizerArgsProvideDefaults sets the appropriate defaults for ImageTemplateFileCustomizerArgs
 */
export function imageTemplateFileCustomizerArgsProvideDefaults(val: ImageTemplateFileCustomizerArgs): ImageTemplateFileCustomizerArgs {
    return {
        ...val,
        sha256Checksum: (val.sha256Checksum) ?? "",
    };
}

/**
 * Identity for the image template.
 */
export interface ImageTemplateIdentityArgs {
    /**
     * The type of identity used for the image template. The type 'None' will remove any identities from the image template.
     */
    type?: pulumi.Input<enums.virtualmachineimages.ResourceIdentityType>;
    /**
     * The list of user identities associated with the image template. The user identity dictionary key references will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}'.
     */
    userAssignedIdentities?: pulumi.Input<{[key: string]: any}>;
}

/**
 * Distribute as a Managed Disk Image.
 */
export interface ImageTemplateManagedImageDistributorArgs {
    /**
     * Tags that will be applied to the artifact once it has been created/updated by the distributor.
     */
    artifactTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * Resource Id of the Managed Disk Image
     */
    imageId: pulumi.Input<string>;
    /**
     * Azure location for the image, should match if image already exists
     */
    location: pulumi.Input<string>;
    /**
     * The name to be used for the associated RunOutput.
     */
    runOutputName: pulumi.Input<string>;
    /**
     * Type of distribution.
     * Expected value is 'ManagedImage'.
     */
    type: pulumi.Input<"ManagedImage">;
}

/**
 * Describes an image source that is a managed image in customer subscription.
 */
export interface ImageTemplateManagedImageSourceArgs {
    /**
     * ARM resource id of the managed image in customer subscription
     */
    imageId: pulumi.Input<string>;
    /**
     * Specifies the type of source image you want to start with.
     * Expected value is 'ManagedImage'.
     */
    type: pulumi.Input<"ManagedImage">;
}

/**
 * Describes an image source from [Azure Gallery Images](https://docs.microsoft.com/en-us/rest/api/compute/virtualmachineimages).
 */
export interface ImageTemplatePlatformImageSourceArgs {
    /**
     * Image offer from the [Azure Gallery Images](https://docs.microsoft.com/en-us/rest/api/compute/virtualmachineimages).
     */
    offer?: pulumi.Input<string>;
    /**
     * Optional configuration of purchase plan for platform image.
     */
    planInfo?: pulumi.Input<inputs.virtualmachineimages.PlatformImagePurchasePlanArgs>;
    /**
     * Image Publisher in [Azure Gallery Images](https://docs.microsoft.com/en-us/rest/api/compute/virtualmachineimages).
     */
    publisher?: pulumi.Input<string>;
    /**
     * Image sku from the [Azure Gallery Images](https://docs.microsoft.com/en-us/rest/api/compute/virtualmachineimages).
     */
    sku?: pulumi.Input<string>;
    /**
     * Specifies the type of source image you want to start with.
     * Expected value is 'PlatformImage'.
     */
    type: pulumi.Input<"PlatformImage">;
    /**
     * Image version from the [Azure Gallery Images](https://docs.microsoft.com/en-us/rest/api/compute/virtualmachineimages). If 'latest' is specified here, the version is evaluated when the image build takes place, not when the template is submitted. Specifying 'latest' could cause ROUNDTRIP_INCONSISTENT_PROPERTY issue which will be fixed.
     */
    version?: pulumi.Input<string>;
}

/**
 * Runs the specified PowerShell on the VM (Windows). Corresponds to Packer powershell provisioner. Exactly one of 'scriptUri' or 'inline' can be specified.
 */
export interface ImageTemplatePowerShellCustomizerArgs {
    /**
     * Array of PowerShell commands to execute
     */
    inline?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Friendly Name to provide context on what this customization step does
     */
    name?: pulumi.Input<string>;
    /**
     * If specified, the PowerShell script will be run with elevated privileges using the Local System user. Can only be true when the runElevated field above is set to true.
     */
    runAsSystem?: pulumi.Input<boolean>;
    /**
     * If specified, the PowerShell script will be run with elevated privileges
     */
    runElevated?: pulumi.Input<boolean>;
    /**
     * URI of the PowerShell script to be run for customizing. It can be a github link, SAS URI for Azure Storage, etc
     */
    scriptUri?: pulumi.Input<string>;
    /**
     * SHA256 checksum of the power shell script provided in the scriptUri field above
     */
    sha256Checksum?: pulumi.Input<string>;
    /**
     * The type of customization tool you want to use on the Image. For example, "Shell" can be shell customizer
     * Expected value is 'PowerShell'.
     */
    type: pulumi.Input<"PowerShell">;
    /**
     * Valid exit codes for the PowerShell script. [Default: 0]
     */
    validExitCodes?: pulumi.Input<pulumi.Input<number>[]>;
}
/**
 * imageTemplatePowerShellCustomizerArgsProvideDefaults sets the appropriate defaults for ImageTemplatePowerShellCustomizerArgs
 */
export function imageTemplatePowerShellCustomizerArgsProvideDefaults(val: ImageTemplatePowerShellCustomizerArgs): ImageTemplatePowerShellCustomizerArgs {
    return {
        ...val,
        runAsSystem: (val.runAsSystem) ?? false,
        runElevated: (val.runElevated) ?? false,
        sha256Checksum: (val.sha256Checksum) ?? "",
    };
}

/**
 * Reboots a VM and waits for it to come back online (Windows). Corresponds to Packer windows-restart provisioner
 */
export interface ImageTemplateRestartCustomizerArgs {
    /**
     * Friendly Name to provide context on what this customization step does
     */
    name?: pulumi.Input<string>;
    /**
     * Command to check if restart succeeded [Default: '']
     */
    restartCheckCommand?: pulumi.Input<string>;
    /**
     * Command to execute the restart [Default: 'shutdown /r /f /t 0 /c "packer restart"']
     */
    restartCommand?: pulumi.Input<string>;
    /**
     * Restart timeout specified as a string of magnitude and unit, e.g. '5m' (5 minutes) or '2h' (2 hours) [Default: '5m']
     */
    restartTimeout?: pulumi.Input<string>;
    /**
     * The type of customization tool you want to use on the Image. For example, "Shell" can be shell customizer
     * Expected value is 'WindowsRestart'.
     */
    type: pulumi.Input<"WindowsRestart">;
}

/**
 * Distribute via Shared Image Gallery.
 */
export interface ImageTemplateSharedImageDistributorArgs {
    /**
     * Tags that will be applied to the artifact once it has been created/updated by the distributor.
     */
    artifactTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * Flag that indicates whether created image version should be excluded from latest. Omit to use the default (false).
     */
    excludeFromLatest?: pulumi.Input<boolean>;
    /**
     * Resource Id of the Shared Image Gallery image
     */
    galleryImageId: pulumi.Input<string>;
    /**
     * A list of regions that the image will be replicated to
     */
    replicationRegions: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The name to be used for the associated RunOutput.
     */
    runOutputName: pulumi.Input<string>;
    /**
     * Storage account type to be used to store the shared image. Omit to use the default (Standard_LRS).
     */
    storageAccountType?: pulumi.Input<string | enums.virtualmachineimages.SharedImageStorageAccountType>;
    /**
     * Type of distribution.
     * Expected value is 'SharedImage'.
     */
    type: pulumi.Input<"SharedImage">;
}
/**
 * imageTemplateSharedImageDistributorArgsProvideDefaults sets the appropriate defaults for ImageTemplateSharedImageDistributorArgs
 */
export function imageTemplateSharedImageDistributorArgsProvideDefaults(val: ImageTemplateSharedImageDistributorArgs): ImageTemplateSharedImageDistributorArgs {
    return {
        ...val,
        excludeFromLatest: (val.excludeFromLatest) ?? false,
    };
}

/**
 * Describes an image source that is an image version in a shared image gallery.
 */
export interface ImageTemplateSharedImageVersionSourceArgs {
    /**
     * ARM resource id of the image version in the shared image gallery
     */
    imageVersionId: pulumi.Input<string>;
    /**
     * Specifies the type of source image you want to start with.
     * Expected value is 'SharedImageVersion'.
     */
    type: pulumi.Input<"SharedImageVersion">;
}

/**
 * Runs a shell script during the customization phase (Linux). Corresponds to Packer shell provisioner. Exactly one of 'scriptUri' or 'inline' can be specified.
 */
export interface ImageTemplateShellCustomizerArgs {
    /**
     * Array of shell commands to execute
     */
    inline?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Friendly Name to provide context on what this customization step does
     */
    name?: pulumi.Input<string>;
    /**
     * URI of the shell script to be run for customizing. It can be a github link, SAS URI for Azure Storage, etc
     */
    scriptUri?: pulumi.Input<string>;
    /**
     * SHA256 checksum of the shell script provided in the scriptUri field
     */
    sha256Checksum?: pulumi.Input<string>;
    /**
     * The type of customization tool you want to use on the Image. For example, "Shell" can be shell customizer
     * Expected value is 'Shell'.
     */
    type: pulumi.Input<"Shell">;
}
/**
 * imageTemplateShellCustomizerArgsProvideDefaults sets the appropriate defaults for ImageTemplateShellCustomizerArgs
 */
export function imageTemplateShellCustomizerArgsProvideDefaults(val: ImageTemplateShellCustomizerArgs): ImageTemplateShellCustomizerArgs {
    return {
        ...val,
        sha256Checksum: (val.sha256Checksum) ?? "",
    };
}

/**
 * Distribute via VHD in a storage account.
 */
export interface ImageTemplateVhdDistributorArgs {
    /**
     * Tags that will be applied to the artifact once it has been created/updated by the distributor.
     */
    artifactTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The name to be used for the associated RunOutput.
     */
    runOutputName: pulumi.Input<string>;
    /**
     * Type of distribution.
     * Expected value is 'VHD'.
     */
    type: pulumi.Input<"VHD">;
}

/**
 * Describes the virtual machine used to build, customize and capture images
 */
export interface ImageTemplateVmProfileArgs {
    /**
     * Size of the OS disk in GB. Omit or specify 0 to use Azure's default OS disk size.
     */
    osDiskSizeGB?: pulumi.Input<number>;
    /**
     * Size of the virtual machine used to build, customize and capture images. Omit or specify empty string to use the default (Standard_D1_v2 for Gen1 images and Standard_D2ds_v4 for Gen2 images).
     */
    vmSize?: pulumi.Input<string>;
    /**
     * Optional configuration of the virtual network to use to deploy the build virtual machine in. Omit if no specific virtual network needs to be used.
     */
    vnetConfig?: pulumi.Input<inputs.virtualmachineimages.VirtualNetworkConfigArgs>;
}
/**
 * imageTemplateVmProfileArgsProvideDefaults sets the appropriate defaults for ImageTemplateVmProfileArgs
 */
export function imageTemplateVmProfileArgsProvideDefaults(val: ImageTemplateVmProfileArgs): ImageTemplateVmProfileArgs {
    return {
        ...val,
        osDiskSizeGB: (val.osDiskSizeGB) ?? 0,
        vmSize: (val.vmSize) ?? "",
    };
}

/**
 * Installs Windows Updates. Corresponds to Packer Windows Update Provisioner (https://github.com/rgl/packer-provisioner-windows-update)
 */
export interface ImageTemplateWindowsUpdateCustomizerArgs {
    /**
     * Array of filters to select updates to apply. Omit or specify empty array to use the default (no filter). Refer to above link for examples and detailed description of this field.
     */
    filters?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Friendly Name to provide context on what this customization step does
     */
    name?: pulumi.Input<string>;
    /**
     * Criteria to search updates. Omit or specify empty string to use the default (search all). Refer to above link for examples and detailed description of this field.
     */
    searchCriteria?: pulumi.Input<string>;
    /**
     * The type of customization tool you want to use on the Image. For example, "Shell" can be shell customizer
     * Expected value is 'WindowsUpdate'.
     */
    type: pulumi.Input<"WindowsUpdate">;
    /**
     * Maximum number of updates to apply at a time. Omit or specify 0 to use the default (1000)
     */
    updateLimit?: pulumi.Input<number>;
}

/**
 * Purchase plan configuration for platform image.
 */
export interface PlatformImagePurchasePlanArgs {
    /**
     * Name of the purchase plan.
     */
    planName: pulumi.Input<string>;
    /**
     * Product of the purchase plan.
     */
    planProduct: pulumi.Input<string>;
    /**
     * Publisher of the purchase plan.
     */
    planPublisher: pulumi.Input<string>;
}

/**
 * Virtual Network configuration.
 */
export interface VirtualNetworkConfigArgs {
    /**
     * Resource id of a pre-existing subnet.
     */
    subnetId?: pulumi.Input<string>;
}

