// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package timeseriesinsights

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// An environment is a set of time-series data available for query, and is the top level Azure Time Series Insights resource. Gen2 environments do not have set data retention limits.
// API Version: 2020-05-15.
type Gen2Environment struct {
	pulumi.CustomResourceState

	// The time the resource was created.
	CreationTime pulumi.StringOutput `pulumi:"creationTime"`
	// The fully qualified domain name used to access the environment data, e.g. to query the environment's events or upload reference data for the environment.
	DataAccessFqdn pulumi.StringOutput `pulumi:"dataAccessFqdn"`
	// An id used to access the environment data, e.g. to query the environment's events or upload reference data for the environment.
	DataAccessId pulumi.StringOutput `pulumi:"dataAccessId"`
	// The kind of the environment.
	// Expected value is 'Gen2'.
	Kind pulumi.StringOutput `pulumi:"kind"`
	// Resource location
	Location pulumi.StringOutput `pulumi:"location"`
	// Resource name
	Name pulumi.StringOutput `pulumi:"name"`
	// Provisioning state of the resource.
	ProvisioningState pulumi.StringOutput `pulumi:"provisioningState"`
	// The sku determines the type of environment, either Gen1 (S1 or S2) or Gen2 (L1). For Gen1 environments the sku determines the capacity of the environment, the ingress rate, and the billing rate.
	Sku SkuResponseOutput `pulumi:"sku"`
	// An object that represents the status of the environment, and its internal state in the Time Series Insights service.
	Status EnvironmentStatusResponseOutput `pulumi:"status"`
	// The storage configuration provides the connection details that allows the Time Series Insights service to connect to the customer storage account that is used to store the environment's data.
	StorageConfiguration Gen2StorageConfigurationOutputResponseOutput `pulumi:"storageConfiguration"`
	// Resource tags
	Tags pulumi.StringMapOutput `pulumi:"tags"`
	// The list of event properties which will be used to define the environment's time series id.
	TimeSeriesIdProperties TimeSeriesIdPropertyResponseArrayOutput `pulumi:"timeSeriesIdProperties"`
	// Resource type
	Type pulumi.StringOutput `pulumi:"type"`
	// The warm store configuration provides the details to create a warm store cache that will retain a copy of the environment's data available for faster query.
	WarmStoreConfiguration WarmStoreConfigurationPropertiesResponsePtrOutput `pulumi:"warmStoreConfiguration"`
}

// NewGen2Environment registers a new resource with the given unique name, arguments, and options.
func NewGen2Environment(ctx *pulumi.Context,
	name string, args *Gen2EnvironmentArgs, opts ...pulumi.ResourceOption) (*Gen2Environment, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Kind == nil {
		return nil, errors.New("invalid value for required argument 'Kind'")
	}
	if args.ResourceGroupName == nil {
		return nil, errors.New("invalid value for required argument 'ResourceGroupName'")
	}
	if args.Sku == nil {
		return nil, errors.New("invalid value for required argument 'Sku'")
	}
	if args.StorageConfiguration == nil {
		return nil, errors.New("invalid value for required argument 'StorageConfiguration'")
	}
	if args.TimeSeriesIdProperties == nil {
		return nil, errors.New("invalid value for required argument 'TimeSeriesIdProperties'")
	}
	args.Kind = pulumi.String("Gen2")
	aliases := pulumi.Aliases([]pulumi.Alias{
		{
			Type: pulumi.String("azure-nextgen:timeseriesinsights:Gen2Environment"),
		},
		{
			Type: pulumi.String("azure-native:timeseriesinsights/v20170228preview:Gen2Environment"),
		},
		{
			Type: pulumi.String("azure-nextgen:timeseriesinsights/v20170228preview:Gen2Environment"),
		},
		{
			Type: pulumi.String("azure-native:timeseriesinsights/v20171115:Gen2Environment"),
		},
		{
			Type: pulumi.String("azure-nextgen:timeseriesinsights/v20171115:Gen2Environment"),
		},
		{
			Type: pulumi.String("azure-native:timeseriesinsights/v20180815preview:Gen2Environment"),
		},
		{
			Type: pulumi.String("azure-nextgen:timeseriesinsights/v20180815preview:Gen2Environment"),
		},
		{
			Type: pulumi.String("azure-native:timeseriesinsights/v20200515:Gen2Environment"),
		},
		{
			Type: pulumi.String("azure-nextgen:timeseriesinsights/v20200515:Gen2Environment"),
		},
	})
	opts = append(opts, aliases)
	var resource Gen2Environment
	err := ctx.RegisterResource("azure-native:timeseriesinsights:Gen2Environment", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetGen2Environment gets an existing Gen2Environment resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetGen2Environment(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *Gen2EnvironmentState, opts ...pulumi.ResourceOption) (*Gen2Environment, error) {
	var resource Gen2Environment
	err := ctx.ReadResource("azure-native:timeseriesinsights:Gen2Environment", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Gen2Environment resources.
type gen2EnvironmentState struct {
	// The time the resource was created.
	CreationTime *string `pulumi:"creationTime"`
	// The fully qualified domain name used to access the environment data, e.g. to query the environment's events or upload reference data for the environment.
	DataAccessFqdn *string `pulumi:"dataAccessFqdn"`
	// An id used to access the environment data, e.g. to query the environment's events or upload reference data for the environment.
	DataAccessId *string `pulumi:"dataAccessId"`
	// The kind of the environment.
	// Expected value is 'Gen2'.
	Kind *string `pulumi:"kind"`
	// Resource location
	Location *string `pulumi:"location"`
	// Resource name
	Name *string `pulumi:"name"`
	// Provisioning state of the resource.
	ProvisioningState *string `pulumi:"provisioningState"`
	// The sku determines the type of environment, either Gen1 (S1 or S2) or Gen2 (L1). For Gen1 environments the sku determines the capacity of the environment, the ingress rate, and the billing rate.
	Sku *SkuResponse `pulumi:"sku"`
	// An object that represents the status of the environment, and its internal state in the Time Series Insights service.
	Status *EnvironmentStatusResponse `pulumi:"status"`
	// The storage configuration provides the connection details that allows the Time Series Insights service to connect to the customer storage account that is used to store the environment's data.
	StorageConfiguration *Gen2StorageConfigurationOutputResponse `pulumi:"storageConfiguration"`
	// Resource tags
	Tags map[string]string `pulumi:"tags"`
	// The list of event properties which will be used to define the environment's time series id.
	TimeSeriesIdProperties []TimeSeriesIdPropertyResponse `pulumi:"timeSeriesIdProperties"`
	// Resource type
	Type *string `pulumi:"type"`
	// The warm store configuration provides the details to create a warm store cache that will retain a copy of the environment's data available for faster query.
	WarmStoreConfiguration *WarmStoreConfigurationPropertiesResponse `pulumi:"warmStoreConfiguration"`
}

type Gen2EnvironmentState struct {
	// The time the resource was created.
	CreationTime pulumi.StringPtrInput
	// The fully qualified domain name used to access the environment data, e.g. to query the environment's events or upload reference data for the environment.
	DataAccessFqdn pulumi.StringPtrInput
	// An id used to access the environment data, e.g. to query the environment's events or upload reference data for the environment.
	DataAccessId pulumi.StringPtrInput
	// The kind of the environment.
	// Expected value is 'Gen2'.
	Kind pulumi.StringPtrInput
	// Resource location
	Location pulumi.StringPtrInput
	// Resource name
	Name pulumi.StringPtrInput
	// Provisioning state of the resource.
	ProvisioningState pulumi.StringPtrInput
	// The sku determines the type of environment, either Gen1 (S1 or S2) or Gen2 (L1). For Gen1 environments the sku determines the capacity of the environment, the ingress rate, and the billing rate.
	Sku SkuResponsePtrInput
	// An object that represents the status of the environment, and its internal state in the Time Series Insights service.
	Status EnvironmentStatusResponsePtrInput
	// The storage configuration provides the connection details that allows the Time Series Insights service to connect to the customer storage account that is used to store the environment's data.
	StorageConfiguration Gen2StorageConfigurationOutputResponsePtrInput
	// Resource tags
	Tags pulumi.StringMapInput
	// The list of event properties which will be used to define the environment's time series id.
	TimeSeriesIdProperties TimeSeriesIdPropertyResponseArrayInput
	// Resource type
	Type pulumi.StringPtrInput
	// The warm store configuration provides the details to create a warm store cache that will retain a copy of the environment's data available for faster query.
	WarmStoreConfiguration WarmStoreConfigurationPropertiesResponsePtrInput
}

func (Gen2EnvironmentState) ElementType() reflect.Type {
	return reflect.TypeOf((*gen2EnvironmentState)(nil)).Elem()
}

type gen2EnvironmentArgs struct {
	// Name of the environment
	EnvironmentName *string `pulumi:"environmentName"`
	// The kind of the environment.
	// Expected value is 'Gen2'.
	Kind string `pulumi:"kind"`
	// The location of the resource.
	Location *string `pulumi:"location"`
	// Name of an Azure Resource group.
	ResourceGroupName string `pulumi:"resourceGroupName"`
	// The sku determines the type of environment, either Gen1 (S1 or S2) or Gen2 (L1). For Gen1 environments the sku determines the capacity of the environment, the ingress rate, and the billing rate.
	Sku Sku `pulumi:"sku"`
	// The storage configuration provides the connection details that allows the Time Series Insights service to connect to the customer storage account that is used to store the environment's data.
	StorageConfiguration Gen2StorageConfigurationInput `pulumi:"storageConfiguration"`
	// Key-value pairs of additional properties for the resource.
	Tags map[string]string `pulumi:"tags"`
	// The list of event properties which will be used to define the environment's time series id.
	TimeSeriesIdProperties []TimeSeriesIdProperty `pulumi:"timeSeriesIdProperties"`
	// The warm store configuration provides the details to create a warm store cache that will retain a copy of the environment's data available for faster query.
	WarmStoreConfiguration *WarmStoreConfigurationProperties `pulumi:"warmStoreConfiguration"`
}

// The set of arguments for constructing a Gen2Environment resource.
type Gen2EnvironmentArgs struct {
	// Name of the environment
	EnvironmentName pulumi.StringPtrInput
	// The kind of the environment.
	// Expected value is 'Gen2'.
	Kind pulumi.StringInput
	// The location of the resource.
	Location pulumi.StringPtrInput
	// Name of an Azure Resource group.
	ResourceGroupName pulumi.StringInput
	// The sku determines the type of environment, either Gen1 (S1 or S2) or Gen2 (L1). For Gen1 environments the sku determines the capacity of the environment, the ingress rate, and the billing rate.
	Sku SkuInput
	// The storage configuration provides the connection details that allows the Time Series Insights service to connect to the customer storage account that is used to store the environment's data.
	StorageConfiguration Gen2StorageConfigurationInputInput
	// Key-value pairs of additional properties for the resource.
	Tags pulumi.StringMapInput
	// The list of event properties which will be used to define the environment's time series id.
	TimeSeriesIdProperties TimeSeriesIdPropertyArrayInput
	// The warm store configuration provides the details to create a warm store cache that will retain a copy of the environment's data available for faster query.
	WarmStoreConfiguration WarmStoreConfigurationPropertiesPtrInput
}

func (Gen2EnvironmentArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*gen2EnvironmentArgs)(nil)).Elem()
}

type Gen2EnvironmentInput interface {
	pulumi.Input

	ToGen2EnvironmentOutput() Gen2EnvironmentOutput
	ToGen2EnvironmentOutputWithContext(ctx context.Context) Gen2EnvironmentOutput
}

func (*Gen2Environment) ElementType() reflect.Type {
	return reflect.TypeOf((*Gen2Environment)(nil))
}

func (i *Gen2Environment) ToGen2EnvironmentOutput() Gen2EnvironmentOutput {
	return i.ToGen2EnvironmentOutputWithContext(context.Background())
}

func (i *Gen2Environment) ToGen2EnvironmentOutputWithContext(ctx context.Context) Gen2EnvironmentOutput {
	return pulumi.ToOutputWithContext(ctx, i).(Gen2EnvironmentOutput)
}

type Gen2EnvironmentOutput struct {
	*pulumi.OutputState
}

func (Gen2EnvironmentOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*Gen2Environment)(nil))
}

func (o Gen2EnvironmentOutput) ToGen2EnvironmentOutput() Gen2EnvironmentOutput {
	return o
}

func (o Gen2EnvironmentOutput) ToGen2EnvironmentOutputWithContext(ctx context.Context) Gen2EnvironmentOutput {
	return o
}

func init() {
	pulumi.RegisterOutputType(Gen2EnvironmentOutput{})
}
