// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package v20210615privatepreview

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

type Migration struct {
	pulumi.CustomResourceState

	CurrentStatus                             MigrationStatusResponseOutput              `pulumi:"currentStatus"`
	DBsToMigrate                              pulumi.StringArrayOutput                   `pulumi:"dBsToMigrate"`
	Location                                  pulumi.StringOutput                        `pulumi:"location"`
	MigrationDetailsLevel                     pulumi.StringOutput                        `pulumi:"migrationDetailsLevel"`
	MigrationId                               pulumi.StringOutput                        `pulumi:"migrationId"`
	MigrationName                             pulumi.StringOutput                        `pulumi:"migrationName"`
	MigrationResourceGroup                    MigrationResourceGroupResponsePtrOutput    `pulumi:"migrationResourceGroup"`
	MigrationWindowStartTimeInUtc             pulumi.StringPtrOutput                     `pulumi:"migrationWindowStartTimeInUtc"`
	Name                                      pulumi.StringOutput                        `pulumi:"name"`
	OverwriteDBsInTarget                      pulumi.BoolPtrOutput                       `pulumi:"overwriteDBsInTarget"`
	SecretParameters                          MigrationSecretParametersResponsePtrOutput `pulumi:"secretParameters"`
	SetupLogicalReplicationOnSourceDBIfNeeded pulumi.BoolPtrOutput                       `pulumi:"setupLogicalReplicationOnSourceDBIfNeeded"`
	SourceDBServerMetadata                    DBServerMetadataResponseOutput             `pulumi:"sourceDBServerMetadata"`
	SourceDBServerResourceId                  pulumi.StringPtrOutput                     `pulumi:"sourceDBServerResourceId"`
	StartDataMigration                        pulumi.BoolPtrOutput                       `pulumi:"startDataMigration"`
	SystemData                                SystemDataResponseOutput                   `pulumi:"systemData"`
	Tags                                      pulumi.StringMapOutput                     `pulumi:"tags"`
	TargetDBServerMetadata                    DBServerMetadataResponseOutput             `pulumi:"targetDBServerMetadata"`
	TargetDBServerResourceId                  pulumi.StringOutput                        `pulumi:"targetDBServerResourceId"`
	TriggerCutover                            pulumi.BoolPtrOutput                       `pulumi:"triggerCutover"`
	Type                                      pulumi.StringOutput                        `pulumi:"type"`
	UserAssignedIdentityResourceId            pulumi.StringPtrOutput                     `pulumi:"userAssignedIdentityResourceId"`
}

// NewMigration registers a new resource with the given unique name, arguments, and options.
func NewMigration(ctx *pulumi.Context,
	name string, args *MigrationArgs, opts ...pulumi.ResourceOption) (*Migration, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.TargetDBServerName == nil {
		return nil, errors.New("invalid value for required argument 'TargetDBServerName'")
	}
	if args.TargetDBServerResourceGroupName == nil {
		return nil, errors.New("invalid value for required argument 'TargetDBServerResourceGroupName'")
	}
	if args.TargetDBServerSubscriptionId == nil {
		return nil, errors.New("invalid value for required argument 'TargetDBServerSubscriptionId'")
	}
	aliases := pulumi.Aliases([]pulumi.Alias{
		{
			Type: pulumi.String("azure-nextgen:dbforpostgresql/v20210615privatepreview:Migration"),
		},
	})
	opts = append(opts, aliases)
	var resource Migration
	err := ctx.RegisterResource("azure-native:dbforpostgresql/v20210615privatepreview:Migration", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetMigration gets an existing Migration resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetMigration(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *MigrationState, opts ...pulumi.ResourceOption) (*Migration, error) {
	var resource Migration
	err := ctx.ReadResource("azure-native:dbforpostgresql/v20210615privatepreview:Migration", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Migration resources.
type migrationState struct {
}

type MigrationState struct {
}

func (MigrationState) ElementType() reflect.Type {
	return reflect.TypeOf((*migrationState)(nil)).Elem()
}

type migrationArgs struct {
	DBsToMigrate                              []string                   `pulumi:"dBsToMigrate"`
	Location                                  *string                    `pulumi:"location"`
	MigrationName                             *string                    `pulumi:"migrationName"`
	MigrationResourceGroup                    *MigrationResourceGroup    `pulumi:"migrationResourceGroup"`
	MigrationWindowStartTimeInUtc             *string                    `pulumi:"migrationWindowStartTimeInUtc"`
	OverwriteDBsInTarget                      *bool                      `pulumi:"overwriteDBsInTarget"`
	SecretParameters                          *MigrationSecretParameters `pulumi:"secretParameters"`
	SetupLogicalReplicationOnSourceDBIfNeeded *bool                      `pulumi:"setupLogicalReplicationOnSourceDBIfNeeded"`
	SourceDBServerResourceId                  *string                    `pulumi:"sourceDBServerResourceId"`
	StartDataMigration                        *bool                      `pulumi:"startDataMigration"`
	Tags                                      map[string]string          `pulumi:"tags"`
	TargetDBServerName                        string                     `pulumi:"targetDBServerName"`
	TargetDBServerResourceGroupName           string                     `pulumi:"targetDBServerResourceGroupName"`
	TargetDBServerSubscriptionId              string                     `pulumi:"targetDBServerSubscriptionId"`
	TriggerCutover                            *bool                      `pulumi:"triggerCutover"`
	UserAssignedIdentityResourceId            *string                    `pulumi:"userAssignedIdentityResourceId"`
}

// The set of arguments for constructing a Migration resource.
type MigrationArgs struct {
	DBsToMigrate                              pulumi.StringArrayInput
	Location                                  pulumi.StringPtrInput
	MigrationName                             pulumi.StringPtrInput
	MigrationResourceGroup                    MigrationResourceGroupPtrInput
	MigrationWindowStartTimeInUtc             pulumi.StringPtrInput
	OverwriteDBsInTarget                      pulumi.BoolPtrInput
	SecretParameters                          MigrationSecretParametersPtrInput
	SetupLogicalReplicationOnSourceDBIfNeeded pulumi.BoolPtrInput
	SourceDBServerResourceId                  pulumi.StringPtrInput
	StartDataMigration                        pulumi.BoolPtrInput
	Tags                                      pulumi.StringMapInput
	TargetDBServerName                        pulumi.StringInput
	TargetDBServerResourceGroupName           pulumi.StringInput
	TargetDBServerSubscriptionId              pulumi.StringInput
	TriggerCutover                            pulumi.BoolPtrInput
	UserAssignedIdentityResourceId            pulumi.StringPtrInput
}

func (MigrationArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*migrationArgs)(nil)).Elem()
}

type MigrationInput interface {
	pulumi.Input

	ToMigrationOutput() MigrationOutput
	ToMigrationOutputWithContext(ctx context.Context) MigrationOutput
}

func (*Migration) ElementType() reflect.Type {
	return reflect.TypeOf((*Migration)(nil))
}

func (i *Migration) ToMigrationOutput() MigrationOutput {
	return i.ToMigrationOutputWithContext(context.Background())
}

func (i *Migration) ToMigrationOutputWithContext(ctx context.Context) MigrationOutput {
	return pulumi.ToOutputWithContext(ctx, i).(MigrationOutput)
}

type MigrationOutput struct{ *pulumi.OutputState }

func (MigrationOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*Migration)(nil))
}

func (o MigrationOutput) ToMigrationOutput() MigrationOutput {
	return o
}

func (o MigrationOutput) ToMigrationOutputWithContext(ctx context.Context) MigrationOutput {
	return o
}

func init() {
	pulumi.RegisterOutputType(MigrationOutput{})
}
