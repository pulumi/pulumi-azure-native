{"method":"/pulumirpc.LanguageRuntime/GetPluginInfo","request":{},"response":{"version":"v1.13.0"}}
{"method":"/pulumirpc.LanguageRuntime/GetRequiredPackages","request":{"info":{"entryPoint":".","options":{},"programDirectory":"/private/var/folders/d4/bznc6qv135qc7ngyh8ld56lm0000gn/T/TestUpgradeContainerServiceAgentPool_2_76_01860358289/007/upgrade-containerservice-agentpool","rootDirectory":"/private/var/folders/d4/bznc6qv135qc7ngyh8ld56lm0000gn/T/TestUpgradeContainerServiceAgentPool_2_76_01860358289/007/upgrade-containerservice-agentpool"}},"response":{"packages":[{"kind":"resource","name":"azure-native"}]}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"resourceReferences"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"outputValues"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"deletedWith"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"aliasSpecs"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"transforms"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"invokeTransforms"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/SupportsFeature","request":{"id":"parameterization"},"response":{"hasSupport":true}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"customTimeouts":{},"name":"upgrade-containerservice-agentpool-test","object":{},"sourcePosition":{"line":252,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fserver%2Fserver.go"},"supportsResultReporting":true,"type":"pulumi:pulumi:Stack"},"response":{"object":{},"urn":"urn:pulumi:test::upgrade-containerservice-agentpool::pulumi:pulumi:Stack::upgrade-containerservice-agentpool-test"}}
{"method":"/pulumirpc.ResourceProvider/Handshake","request":{"engineAddress":"127.0.0.1:56061"}}
{"method":"/pulumirpc.ResourceProvider/Attach","request":{"address":"127.0.0.1:56061"},"response":{}}
{"method":"/pulumirpc.ResourceProvider/GetPluginInfo","request":{},"response":{"version":"2.76.0"}}
{"method":"/pulumirpc.ResourceProvider/CheckConfig","request":{"name":"default","news":{"location":"westus2"},"olds":{},"type":"pulumi:providers:azure-native","urn":"urn:pulumi:test::upgrade-containerservice-agentpool::pulumi:providers:azure-native::default"},"response":{"inputs":{"location":"westus2"}}}
{"method":"/pulumirpc.ResourceProvider/Configure","request":{"acceptResources":true,"acceptSecrets":true,"args":{"location":"westus2"},"sendsOldInputs":true,"sendsOldInputsToDelete":true,"variables":{"azure-native:config:location":"westus2"}},"response":{"supportsPreview":true}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"rg","news":{},"olds":{},"randomSeed":"4VJA34qzLUufQtf1OMphFvxP2P73ePmKIbRzh5Whhy0=","type":"azure-native:resources:ResourceGroup","urn":"urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:resources:ResourceGroup::rg"},"response":{"inputs":{"__createBeforeDelete":true,"location":"westus2","resourceGroupName":"rg53154e1d"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"rg","properties":{"__createBeforeDelete":true,"location":"westus2","resourceGroupName":"rg53154e1d"},"type":"azure-native:resources:ResourceGroup","urn":"urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:resources:ResourceGroup::rg"},"response":{"id":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourceGroups/rg53154e1d","properties":{"__inputs":{"4dabf18193072939515e22adb298388d":"1b47061264138c4ac30d75fd1eb44270","value":"REDACTED BY PROVIDERTEST"},"id":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourceGroups/rg53154e1d","location":"westus2","name":"rg53154e1d","properties":{"provisioningState":"Succeeded"},"type":"Microsoft.Resources/resourceGroups"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliases":[{"spec":{"noParent":false,"type":"azure-native:resources/v20151101:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20160201:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20160701:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20160901:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20170510:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20180201:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20180501:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20190301:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20190501:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20190510:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20190701:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20190801:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20191001:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20200601:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20200801:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20201001:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20210101:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20210401:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20220901:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20230701:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20240301:ResourceGroup"}},{"spec":{"noParent":false,"type":"azure-native:resources/v20240701:ResourceGroup"}}],"custom":true,"customTimeouts":{},"name":"rg","object":{},"parent":"urn:pulumi:test::upgrade-containerservice-agentpool::pulumi:pulumi:Stack::upgrade-containerservice-agentpool-test","sourcePosition":{"line":794,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"azure-native:resources:ResourceGroup"},"response":{"id":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourceGroups/rg53154e1d","object":{"__inputs":{"4dabf18193072939515e22adb298388d":"1b47061264138c4ac30d75fd1eb44270","value":"REDACTED BY PROVIDERTEST"},"id":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourceGroups/rg53154e1d","location":"westus2","name":"rg53154e1d","properties":{"provisioningState":"Succeeded"},"type":"Microsoft.Resources/resourceGroups"},"urn":"urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:resources:ResourceGroup::rg"}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"cluster","news":{"agentPoolProfiles":[{"count":2,"mode":"System","name":"systempool","osDiskSizeGB":128,"osType":"Linux","type":"VirtualMachineScaleSets","vmSize":"standard_d2s_v3"}],"dnsPrefix":"pulumi","identity":{"type":"SystemAssigned"},"location":"westus2","resourceGroupName":"rg53154e1d"},"olds":{},"randomSeed":"+eIE2a/6VqqsezERQI8+LKjEQLWQHicea3E2EFS5TMU=","type":"azure-native:containerservice:ManagedCluster","urn":"urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:containerservice:ManagedCluster::cluster"},"response":{"inputs":{"__createBeforeDelete":true,"agentPoolProfiles":[{"count":2,"mode":"System","name":"systempool","osDiskSizeGB":128,"osType":"Linux","type":"VirtualMachineScaleSets","vmSize":"standard_d2s_v3"}],"dnsPrefix":"pulumi","identity":{"type":"SystemAssigned"},"location":"westus2","resourceGroupName":"rg53154e1d","resourceName":"cluster85e76389"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"cluster","properties":{"__createBeforeDelete":true,"agentPoolProfiles":[{"count":2,"mode":"System","name":"systempool","osDiskSizeGB":128,"osType":"Linux","type":"VirtualMachineScaleSets","vmSize":"standard_d2s_v3"}],"dnsPrefix":"pulumi","identity":{"type":"SystemAssigned"},"location":"westus2","resourceGroupName":"rg53154e1d","resourceName":"cluster85e76389"},"type":"azure-native:containerservice:ManagedCluster","urn":"urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:containerservice:ManagedCluster::cluster"},"response":{"id":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourcegroups/rg53154e1d/providers/Microsoft.ContainerService/managedClusters/cluster85e76389","properties":{"__inputs":{"4dabf18193072939515e22adb298388d":"1b47061264138c4ac30d75fd1eb44270","value":"REDACTED BY PROVIDERTEST"},"agentPoolProfiles":[{"count":2,"currentOrchestratorVersion":"1.30.6","enableAutoScaling":false,"enableFIPS":false,"enableNodePublicIP":false,"kubeletDiskType":"OS","maxPods":250,"mode":"System","name":"systempool","nodeImageVersion":"AKSUbuntu-2204gen2containerd-202412.10.0","orchestratorVersion":"1.30","osDiskSizeGB":128,"osDiskType":"Managed","osSKU":"Ubuntu","osType":"Linux","powerState":{"code":"Running"},"provisioningState":"Succeeded","type":"VirtualMachineScaleSets","upgradeSettings":{"maxSurge":"10%"},"vmSize":"standard_d2s_v3"}],"autoUpgradeProfile":{},"azurePortalFQDN":"pulumi-32acyvf6.portal.hcp.westus2.azmk8s.io","currentKubernetesVersion":"1.30.6","dnsPrefix":"pulumi","enableRBAC":true,"fqdn":"pulumi-32acyvf6.hcp.westus2.azmk8s.io","id":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourcegroups/rg53154e1d/providers/Microsoft.ContainerService/managedClusters/cluster85e76389","identity":{"principalId":"2683fb25-49e0-4326-b8f2-52950285ff5e","tenantId":"706143bc-e1d4-4593-aee2-c9dc60ab9be7","type":"SystemAssigned"},"identityProfile":{"kubeletidentity":{"clientId":"6b20e0ed-1c30-4a1b-a41d-f9d7922fddf2","objectId":"33cbfea5-7463-4adb-a54b-2d59757226b7","resourceId":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourcegroups/MC_rg53154e1d_cluster85e76389_westus2/providers/Microsoft.ManagedIdentity/userAssignedIdentities/cluster85e76389-agentpool"}},"kubernetesVersion":"1.30","location":"westus2","maxAgentPools":100,"name":"cluster85e76389","networkProfile":{"dnsServiceIP":"10.0.0.10","ipFamilies":["IPv4"],"loadBalancerProfile":{"effectiveOutboundIPs":[{"id":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourceGroups/MC_rg53154e1d_cluster85e76389_westus2/providers/Microsoft.Network/publicIPAddresses/cedcf6a6-5a67-4006-b938-723408007b3b"}],"managedOutboundIPs":{"count":1}},"loadBalancerSku":"standard","networkDataplane":"azure","networkPlugin":"azure","networkPluginMode":"overlay","outboundType":"loadBalancer","podCidr":"10.244.0.0/16","podCidrs":["10.244.0.0/16"],"serviceCidr":"10.0.0.0/16","serviceCidrs":["10.0.0.0/16"]},"nodeResourceGroup":"MC_rg53154e1d_cluster85e76389_westus2","oidcIssuerProfile":{"enabled":false},"powerState":{"code":"Running"},"provisioningState":"Succeeded","securityProfile":{},"servicePrincipalProfile":{"clientId":"msi"},"sku":{"name":"Base","tier":"Free"},"storageProfile":{"diskCSIDriver":{"enabled":true},"fileCSIDriver":{"enabled":true},"snapshotController":{"enabled":true}},"supportPlan":"KubernetesOfficial","type":"Microsoft.ContainerService/ManagedClusters","workloadAutoScalerProfile":{}}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliases":[{"spec":{"noParent":false,"type":"azure-native:containerservice/v20170831:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20180331:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20180801preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20190201:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20190401:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20190601:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20190801:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20191001:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20191101:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20200101:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20200201:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20200301:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20200401:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20200601:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20200701:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20200901:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20201101:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20201201:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20210201:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20210301:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20210501:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20210701:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20210801:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20210901:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20211001:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20211101preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220101:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220102preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220201:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220202preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220301:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220302preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220401:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220402preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220502preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220601:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220602preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220701:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220702preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220802preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220803preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220901:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220902preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20221002preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20221101:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20221102preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230101:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230102preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230201:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230202preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230301:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230302preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230401:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230402preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230501:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230502preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230601:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230602preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230701:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230702preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230801:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230802preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230901:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230902preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20231001:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20231002preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20231101:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20231102preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240101:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240102preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240201:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240202preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240302preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240402preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240501:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240502preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240602preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240701:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240702preview:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240801:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240901:ManagedCluster"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240902preview:ManagedCluster"}}],"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:resources:ResourceGroup::rg"],"name":"cluster","object":{"agentPoolProfiles":[{"count":2,"mode":"System","name":"systempool","osDiskSizeGB":128,"osType":"Linux","type":"VirtualMachineScaleSets","vmSize":"standard_d2s_v3"}],"dnsPrefix":"pulumi","identity":{"type":"SystemAssigned"},"location":"westus2","resourceGroupName":"rg53154e1d"},"parent":"urn:pulumi:test::upgrade-containerservice-agentpool::pulumi:pulumi:Stack::upgrade-containerservice-agentpool-test","propertyDependencies":{"agentPoolProfiles":{},"dnsPrefix":{},"identity":{},"location":{"urns":["urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:resources:ResourceGroup::rg"]},"resourceGroupName":{"urns":["urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:resources:ResourceGroup::rg"]}},"replaceOnChanges":["agentPoolProfiles[0]"],"sourcePosition":{"line":794,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"azure-native:containerservice:ManagedCluster"},"response":{"id":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourcegroups/rg53154e1d/providers/Microsoft.ContainerService/managedClusters/cluster85e76389","object":{"__inputs":{"4dabf18193072939515e22adb298388d":"1b47061264138c4ac30d75fd1eb44270","value":"REDACTED BY PROVIDERTEST"},"agentPoolProfiles":[{"count":2,"currentOrchestratorVersion":"1.30.6","enableAutoScaling":false,"enableFIPS":false,"enableNodePublicIP":false,"kubeletDiskType":"OS","maxPods":250,"mode":"System","name":"systempool","nodeImageVersion":"AKSUbuntu-2204gen2containerd-202412.10.0","orchestratorVersion":"1.30","osDiskSizeGB":128,"osDiskType":"Managed","osSKU":"Ubuntu","osType":"Linux","powerState":{"code":"Running"},"provisioningState":"Succeeded","type":"VirtualMachineScaleSets","upgradeSettings":{"maxSurge":"10%"},"vmSize":"standard_d2s_v3"}],"autoUpgradeProfile":{},"azurePortalFQDN":"pulumi-32acyvf6.portal.hcp.westus2.azmk8s.io","currentKubernetesVersion":"1.30.6","dnsPrefix":"pulumi","enableRBAC":true,"fqdn":"pulumi-32acyvf6.hcp.westus2.azmk8s.io","id":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourcegroups/rg53154e1d/providers/Microsoft.ContainerService/managedClusters/cluster85e76389","identity":{"principalId":"2683fb25-49e0-4326-b8f2-52950285ff5e","tenantId":"706143bc-e1d4-4593-aee2-c9dc60ab9be7","type":"SystemAssigned"},"identityProfile":{"kubeletidentity":{"clientId":"6b20e0ed-1c30-4a1b-a41d-f9d7922fddf2","objectId":"33cbfea5-7463-4adb-a54b-2d59757226b7","resourceId":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourcegroups/MC_rg53154e1d_cluster85e76389_westus2/providers/Microsoft.ManagedIdentity/userAssignedIdentities/cluster85e76389-agentpool"}},"kubernetesVersion":"1.30","location":"westus2","maxAgentPools":100,"name":"cluster85e76389","networkProfile":{"dnsServiceIP":"10.0.0.10","ipFamilies":["IPv4"],"loadBalancerProfile":{"effectiveOutboundIPs":[{"id":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourceGroups/MC_rg53154e1d_cluster85e76389_westus2/providers/Microsoft.Network/publicIPAddresses/cedcf6a6-5a67-4006-b938-723408007b3b"}],"managedOutboundIPs":{"count":1}},"loadBalancerSku":"standard","networkDataplane":"azure","networkPlugin":"azure","networkPluginMode":"overlay","outboundType":"loadBalancer","podCidr":"10.244.0.0/16","podCidrs":["10.244.0.0/16"],"serviceCidr":"10.0.0.0/16","serviceCidrs":["10.0.0.0/16"]},"nodeResourceGroup":"MC_rg53154e1d_cluster85e76389_westus2","oidcIssuerProfile":{"enabled":false},"powerState":{"code":"Running"},"provisioningState":"Succeeded","securityProfile":{},"servicePrincipalProfile":{"clientId":"msi"},"sku":{"name":"Base","tier":"Free"},"storageProfile":{"diskCSIDriver":{"enabled":true},"fileCSIDriver":{"enabled":true},"snapshotController":{"enabled":true}},"supportPlan":"KubernetesOfficial","type":"Microsoft.ContainerService/ManagedClusters","workloadAutoScalerProfile":{}},"urn":"urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:containerservice:ManagedCluster::cluster"}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResourceOutputs","request":{"outputs":{"controlPlaneFQDN":"pulumi-32acyvf6.hcp.westus2.azmk8s.io"},"urn":"urn:pulumi:test::upgrade-containerservice-agentpool::pulumi:pulumi:Stack::upgrade-containerservice-agentpool-test"},"response":{}}
{"method":"/pulumirpc.ResourceProvider/Check","request":{"name":"pool","news":{"agentPoolName":"userpool","count":0,"mode":"User","nodeLabels":{"foo":"bar"},"osDiskSizeGB":128,"osType":"Linux","resourceGroupName":"rg53154e1d","resourceName":"cluster85e76389","type":"VirtualMachineScaleSets","vmSize":"standard_d2s_v3"},"olds":{},"randomSeed":"kn+Iq1LdBDvFHbMWmn+geGaNNYW76j5FZYhhZ2oLQkM=","type":"azure-native:containerservice:AgentPool","urn":"urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:containerservice:AgentPool::pool"},"response":{"inputs":{"agentPoolName":"userpool","count":0,"mode":"User","nodeLabels":{"foo":"bar"},"osDiskSizeGB":128,"osType":"Linux","resourceGroupName":"rg53154e1d","resourceName":"cluster85e76389","type":"VirtualMachineScaleSets","vmSize":"standard_d2s_v3"}}}
{"method":"/pulumirpc.ResourceProvider/Create","request":{"name":"pool","properties":{"agentPoolName":"userpool","count":0,"mode":"User","nodeLabels":{"foo":"bar"},"osDiskSizeGB":128,"osType":"Linux","resourceGroupName":"rg53154e1d","resourceName":"cluster85e76389","type":"VirtualMachineScaleSets","vmSize":"standard_d2s_v3"},"type":"azure-native:containerservice:AgentPool","urn":"urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:containerservice:AgentPool::pool"},"response":{"id":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourcegroups/rg53154e1d/providers/Microsoft.ContainerService/managedClusters/cluster85e76389/agentPools/userpool","properties":{"__inputs":{"4dabf18193072939515e22adb298388d":"1b47061264138c4ac30d75fd1eb44270","value":"REDACTED BY PROVIDERTEST"},"count":0,"currentOrchestratorVersion":"1.30.6","enableAutoScaling":false,"enableFIPS":false,"enableNodePublicIP":false,"id":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourcegroups/rg53154e1d/providers/Microsoft.ContainerService/managedClusters/cluster85e76389/agentPools/userpool","kubeletDiskType":"OS","maxPods":250,"mode":"User","name":"userpool","nodeImageVersion":"AKSUbuntu-2204gen2containerd-202412.10.0","nodeLabels":{"foo":"bar"},"orchestratorVersion":"1.30","osDiskSizeGB":128,"osDiskType":"Managed","osSKU":"Ubuntu","osType":"Linux","powerState":{"code":"Running"},"provisioningState":"Succeeded","scaleDownMode":"Delete","type":"Microsoft.ContainerService/managedClusters/agentPools","vmSize":"standard_d2s_v3"}}}
{"method":"/pulumirpc.ResourceMonitor/RegisterResource","request":{"acceptResources":true,"acceptSecrets":true,"aliases":[{"spec":{"noParent":false,"type":"azure-native:containerservice/v20190201:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20190401:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20190601:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20190801:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20191001:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20191101:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20200101:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20200201:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20200301:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20200401:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20200601:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20200701:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20200901:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20201101:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20201201:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20210201:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20210301:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20210501:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20210701:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20210801:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20210901:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20211001:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20211101preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220101:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220102preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220201:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220202preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220301:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220302preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220401:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220402preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220502preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220601:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220602preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220701:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220702preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220802preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220803preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220901:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20220902preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20221002preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20221101:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20221102preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230101:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230102preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230201:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230202preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230301:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230302preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230401:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230402preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230501:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230502preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230601:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230602preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230701:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230702preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230801:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230802preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230901:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20230902preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20231001:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20231002preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20231101:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20231102preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240101:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240102preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240201:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240202preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240302preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240402preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240501:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240502preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240602preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240701:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240702preview:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240801:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240901:AgentPool"}},{"spec":{"noParent":false,"type":"azure-native:containerservice/v20240902preview:AgentPool"}}],"custom":true,"customTimeouts":{},"dependencies":["urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:containerservice:ManagedCluster::cluster","urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:resources:ResourceGroup::rg"],"name":"pool","object":{"agentPoolName":"userpool","count":0,"mode":"User","nodeLabels":{"foo":"bar"},"osDiskSizeGB":128,"osType":"Linux","resourceGroupName":"rg53154e1d","resourceName":"cluster85e76389","type":"VirtualMachineScaleSets","vmSize":"standard_d2s_v3"},"parent":"urn:pulumi:test::upgrade-containerservice-agentpool::pulumi:pulumi:Stack::upgrade-containerservice-agentpool-test","propertyDependencies":{"agentPoolName":{},"count":{},"mode":{},"nodeLabels":{},"osDiskSizeGB":{},"osType":{},"resourceGroupName":{"urns":["urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:resources:ResourceGroup::rg"]},"resourceName":{"urns":["urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:containerservice:ManagedCluster::cluster"]},"type":{},"vmSize":{}},"sourcePosition":{"line":794,"uri":"project://%2Fhome%2Frunner%2Fwork%2Fpulumi-yaml%2Fpulumi-yaml%2Fpkg%2Fpulumiyaml%2Frun.go"},"supportsResultReporting":true,"type":"azure-native:containerservice:AgentPool"},"response":{"id":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourcegroups/rg53154e1d/providers/Microsoft.ContainerService/managedClusters/cluster85e76389/agentPools/userpool","object":{"__inputs":{"4dabf18193072939515e22adb298388d":"1b47061264138c4ac30d75fd1eb44270","value":"REDACTED BY PROVIDERTEST"},"count":0,"currentOrchestratorVersion":"1.30.6","enableAutoScaling":false,"enableFIPS":false,"enableNodePublicIP":false,"id":"/subscriptions/0282681f-7a9e-424b-80b2-96babd57a8a1/resourcegroups/rg53154e1d/providers/Microsoft.ContainerService/managedClusters/cluster85e76389/agentPools/userpool","kubeletDiskType":"OS","maxPods":250,"mode":"User","name":"userpool","nodeImageVersion":"AKSUbuntu-2204gen2containerd-202412.10.0","nodeLabels":{"foo":"bar"},"orchestratorVersion":"1.30","osDiskSizeGB":128,"osDiskType":"Managed","osSKU":"Ubuntu","osType":"Linux","powerState":{"code":"Running"},"provisioningState":"Succeeded","scaleDownMode":"Delete","type":"Microsoft.ContainerService/managedClusters/agentPools","vmSize":"standard_d2s_v3"},"urn":"urn:pulumi:test::upgrade-containerservice-agentpool::azure-native:containerservice:AgentPool::pool"}}
{"method":"/pulumirpc.LanguageRuntime/Run","request":{"config":{"azure-native:location":"westus2"},"configPropertyMap":{"azure-native:location":"westus2"},"info":{"entryPoint":".","options":{},"programDirectory":"/private/var/folders/d4/bznc6qv135qc7ngyh8ld56lm0000gn/T/TestUpgradeContainerServiceAgentPool_2_76_01860358289/007/upgrade-containerservice-agentpool","rootDirectory":"/private/var/folders/d4/bznc6qv135qc7ngyh8ld56lm0000gn/T/TestUpgradeContainerServiceAgentPool_2_76_01860358289/007/upgrade-containerservice-agentpool"},"loaderTarget":"127.0.0.1:56065","monitorAddress":"127.0.0.1:56064","organization":"organization","parallel":48,"program":".","project":"upgrade-containerservice-agentpool","pwd":"/private/var/folders/d4/bznc6qv135qc7ngyh8ld56lm0000gn/T/TestUpgradeContainerServiceAgentPool_2_76_01860358289/007/upgrade-containerservice-agentpool","stack":"test"},"response":{}}